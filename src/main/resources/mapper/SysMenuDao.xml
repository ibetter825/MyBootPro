<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >  
<mapper namespace="com.mypro.dao.admin.SysMenuDao" >  
    <select id="selectWithParams" parameterType="java.util.Map" resultType="java.util.Map">
    	select * from sys_menu 
    	<trim prefix="WHERE" prefixOverrides="AND|OR">
    		<if test="menu_id != null and menu_id != ''">
	    		menu_id = #{menu_id, jdbcType=INTEGER}
	    	</if>
	    	<if test="menu_name != null and menu_name != ''">
	    		menu_name like concat('%', #{menu_name, jdbcType=VARCHAR}, '%')
	    	</if>
	    	<if test="menu_pid != null and menu_pid != ''">
	    		menu_pid = #{menu_pid, jdbcType=INTEGER}
	    	</if>
	    	<if test="menu_state != null and menu_state != ''">
	    		and menu_state = #{menu_state, jdbcType=INTEGER}
	    	</if>
	    	<if test="menu_state == null or menu_state == ''">
	    		and menu_state <![CDATA[<>]]> -1
	    	</if>
    	</trim>
    </select>
</mapper>  